jQuery ->
  $(".data_table").dataTable
    "bJQueryUI": true
    "sPaginationType": "full_numbers"
    "bDestroy": true
    "oLanguage":
      <% if  "#{t :locale}" == "en" %>
        "sUrl":     "/assets/dataTables.english.txt"
      <% else %>
        "sUrl":     "/assets/dataTables.spanish.txt"
      <% end %>
  $('.data_table').css('width', '')

  setTimeout ->
          hideFlashMessages()
      ,2500

      hideFlashMessages = ->
          $("div.alert-box").slideUp()

  window.nestedFormEvents.insertFields.removeFields = (content, assoc, link) ->
    alert "removed"
    $(link).closest("form").find(assoc + '_fields').remove($(content))
